<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–æ—Ç–æ –Ω–∞ –æ—Ç–±–æ—Ä</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: #0a0a0a;
            color: #e0e0e0;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: #1a1a1a;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            padding: 30px;
            overflow: hidden;
            border: 1px solid #333;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #333;
        }
        
        h1 {
            color: #ffffff;
            margin-bottom: 10px;
            font-size: 2.5rem;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }
        
        .subtitle {
            color: #b0b0b0;
            font-size: 1.1rem;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .btn {
            background: #333;
            color: #e0e0e0;
            border: 1px solid #444;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        
        .btn:hover {
            background: #444;
            transform: translateY(-2px);
            box-shadow: 0 7px 14px rgba(0, 0, 0, 0.4);
            border-color: #555;
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn-export {
            background: #2d5016;
            border-color: #3a6620;
        }
        
        .btn-export:hover {
            background: #3a6620;
            border-color: #477a27;
        }
        
        .btn-reset {
            background: #5c1a1a;
            border-color: #742020;
        }
        
        .btn-reset:hover {
            background: #742020;
            border-color: #8b2626;
        }
        
        .btn-copy {
            background: #1a3c5c;
            border-color: #204a6e;
        }
        
        .btn-copy:hover {
            background: #204a6e;
            border-color: #265a85;
        }
        
        .table-container {
            overflow-x: auto;
            margin-bottom: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid #333;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }
        
        th, td {
            border: 1px solid #333;
            padding: 12px 15px;
            text-align: left;
        }
        
        th {
            background-color: #222;
            color: #e0e0e0;
            font-weight: 600;
            position: relative;
        }
        
        th input {
            width: 100%;
            padding: 8px;
            border: 1px solid #444;
            background: #1a1a1a;
            border-radius: 4px;
            font-weight: 600;
            color: #e0e0e0;
        }
        
        th input:focus {
            outline: none;
            border-color: #555;
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
        }
        
        tr:nth-child(even) {
            background-color: #1e1e1e;
        }
        
        tr:hover {
            background-color: #252525;
        }
        
        td {
            position: relative;
        }
        
        td input {
            width: 100%;
            padding: 8px;
            border: 1px solid #333;
            background: #1a1a1a;
            border-radius: 4px;
            transition: border 0.3s;
            color: #e0e0e0;
        }
        
        td input:focus {
            border-color: #444;
            outline: none;
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
        }
        
        .instructions {
            background: #1e1e1e;
            padding: 20px;
            border-radius: 8px;
            margin-top: 25px;
            border-left: 4px solid #333;
        }
        
        .instructions h3 {
            color: #e0e0e0;
            margin-bottom: 10px;
        }
        
        .instructions ul {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 8px;
            color: #b0b0b0;
        }
        
        .icon {
            font-size: 18px;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #2d5016;
            color: white;
            padding: 15px 25px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transform: translateX(150%);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .notification {
                top: 10px;
                right: 10px;
                left: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>–§–æ—Ç–æ –Ω–∞ –æ—Ç–±–æ—Ä</h1>
            <p class="subtitle">–í—Å—Ç–∞–≤–ª—è–π—Ç–µ –Ω–æ–º–µ—Ä–∞ —Ñ–æ—Ç–æ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ</p>
        </header>
        
        <div class="controls">
            <button class="btn btn-export" id="exportBtn">
                <span class="icon">üì•</span> –≠–∫—Å–ø–æ—Ä—Ç –≤ TXT
            </button>
            <button class="btn btn-copy" id="copyBtn">
                <span class="icon">üìã</span> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä
            </button>
            <button class="btn btn-reset" id="resetBtn">
                <span class="icon">üîÑ</span> –°–±—Ä–æ—Å–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É
            </button>
        </div>
        
        <div class="table-container">
            <table id="dataTable">
                <thead>
                    <tr>
                        <th><input type="text" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ 1"></th>
                        <th><input type="text" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ 2"></th>
                        <th><input type="text" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ 3"></th>
                        <th><input type="text" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ 4"></th>
                        <th><input type="text" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ 5"></th>
                    </tr>
                </thead>
                <tbody>
                    <!-- –°—Ç—Ä–æ–∫–∏ –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã JavaScript -->
                </tbody>
            </table>
        </div>
        
        <div class="instructions">
            <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</h3>
            <ul>
                <li>–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ —Ç–æ–≤–∞—Ä–∞</li>
                <li>–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —è—á–µ–π–∫—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Ñ–æ—Ç–æ</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–≠–∫—Å–ø–æ—Ä—Ç –≤ TXT" –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä" –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–°–±—Ä–æ—Å–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É" –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö</li>
                <li>–ü—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ —è—á–µ–π–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è</li>
            </ul>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            const tableBody = document.querySelector('#dataTable tbody');
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ç–∞–±–ª–∏—Ü—É –ø—É—Å—Ç—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏
            for (let i = 0; i < 30; i++) {
                const row = document.createElement('tr');
                
                for (let j = 0; j < 5; j++) {
                    const cell = document.createElement('td');
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.value = '';
                    input.placeholder = '–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ';
                    cell.appendChild(input);
                    row.appendChild(cell);
                }
                
                tableBody.appendChild(row);
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞
            document.getElementById('exportBtn').addEventListener('click', exportToTxt);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
            document.getElementById('copyBtn').addEventListener('click', copyToClipboard);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–±—Ä–æ—Å–∞
            document.getElementById('resetBtn').addEventListener('click', resetTable);
        });
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü—ã
        function getTableData() {
            const table = document.getElementById('dataTable');
            const headers = [];
            const columns = [];
            
            // –ü–æ–ª—É—á–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏
            const headerInputs = table.querySelectorAll('thead th input');
            headerInputs.forEach(input => {
                const value = input.value.trim();
                if (value) {
                    headers.push(value);
                } else {
                    headers.push(`–ö–æ–ª–æ–Ω–∫–∞ ${headers.length + 1}`);
                }
            });
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞
            for (let i = 0; i < headers.length; i++) {
                columns.push([]);
            }
            
            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º
            const rows = table.querySelectorAll('tbody tr');
            rows.forEach(row => {
                const inputs = row.querySelectorAll('td input');
                let rowHasData = false;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç—Ä–æ–∫–µ
                inputs.forEach(input => {
                    if (input.value.trim() !== '') {
                        rowHasData = true;
                    }
                });
                
                // –ï—Å–ª–∏ –≤ —Å—Ç—Ä–æ–∫–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ, –¥–æ–±–∞–≤–ª—è–µ–º –∏—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–æ–ª–±—Ü—ã
                if (rowHasData) {
                    inputs.forEach((input, index) => {
                        if (input.value.trim() !== '') {
                            columns[index].push(input.value);
                        }
                    });
                }
            });
            
            return { headers, columns };
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
        function formatTableData(headers, columns) {
            let txtContent = '';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º
            for (let i = 0; i < headers.length; i++) {
                // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–æ–ª–±—Ü–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç–æ–ª–±—Ü–µ
                if (columns[i].length > 0) {
                    txtContent += headers[i] + '\n';
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Å—Ç–æ–ª–±—Ü–∞
                    columns[i].forEach(data => {
                        txtContent += data + '\n';
                    });
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –º–µ–∂–¥—É —Å—Ç–æ–ª–±—Ü–∞–º–∏ (–∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ)
                    if (i < headers.length - 1) {
                        txtContent += '\n';
                    }
                }
            }
            
            // –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞
            return txtContent.trim();
        }
        
        // –§—É–Ω–∫—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ TXT
        function exportToTxt() {
            const { headers, columns } = getTableData();
            const txtContent = formatTableData(headers, columns);
            
            // –°–æ–∑–¥–∞–µ–º –∏ —Å–∫–∞—á–∏–≤–∞–µ–º —Ñ–∞–π–ª
            const blob = new Blob([txtContent], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'table_export.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            // –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
            showNotification('–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω!');
            
            const exportBtn = document.getElementById('exportBtn');
            const originalText = exportBtn.innerHTML;
            exportBtn.innerHTML = '<span class="icon">‚úÖ</span> –§–∞–π–ª —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω!';
            exportBtn.style.background = '#2d5016';
            
            setTimeout(() => {
                exportBtn.innerHTML = originalText;
                exportBtn.style.background = '';
            }, 2000);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
        function copyToClipboard() {
            const { headers, columns } = getTableData();
            const txtContent = formatTableData(headers, columns);
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
            navigator.clipboard.writeText(txtContent)
                .then(() => {
                    showNotification('–î–∞–Ω–Ω—ã–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
                    
                    const copyBtn = document.getElementById('copyBtn');
                    const originalText = copyBtn.innerHTML;
                    copyBtn.innerHTML = '<span class="icon">‚úÖ</span> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                    copyBtn.style.background = '#1a3c5c';
                    
                    setTimeout(() => {
                        copyBtn.innerHTML = originalText;
                        copyBtn.style.background = '';
                    }, 2000);
                })
                .catch(err => {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞: ', err);
                    showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞', true);
                });
        }
        
        // –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ —Ç–∞–±–ª–∏—Ü—ã
        function resetTable() {
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É? –í—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.')) {
                return;
            }
            
            const tableBody = document.querySelector('#dataTable tbody');
            const headerInputs = document.querySelectorAll('thead th input');
            
            // –û—á–∏—â–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏
            headerInputs.forEach(input => {
                input.value = '';
            });
            
            // –û—á–∏—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
            const inputs = tableBody.querySelectorAll('input');
            inputs.forEach(input => {
                input.value = '';
            });
            
            // –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
            showNotification('–¢–∞–±–ª–∏—Ü–∞ —É—Å–ø–µ—à–Ω–æ —Å–±—Ä–æ—à–µ–Ω–∞!');
            
            const resetBtn = document.getElementById('resetBtn');
            const originalText = resetBtn.innerHTML;
            resetBtn.innerHTML = '<span class="icon">‚úÖ</span> –¢–∞–±–ª–∏—Ü–∞ —Å–±—Ä–æ—à–µ–Ω–∞!';
            resetBtn.style.background = '#2d5016';
            
            setTimeout(() => {
                resetBtn.innerHTML = originalText;
                resetBtn.style.background = '';
            }, 2000);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, isError = false) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.background = isError ? '#5c1a1a' : '#2d5016';
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>